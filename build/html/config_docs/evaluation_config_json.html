

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>evaluation config.json 配置说明 &mdash; adas_pro 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="roadtest config.json 配置说明" href="roadtest_config.html" />
    <link rel="prev" title="config.yml 配置说明" href="config_yml.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> adas_pro
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html">Getting Started</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorial</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../alarm.html">Alarm System</a></li>
<li class="toctree-l1"><a class="reference internal" href="alarm_simulator_config_json.html">alarm_simulator_config.json 配置说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration_json.html">calibration.json 配置说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="config_yml.html">config.yml 配置说明</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">evaluation config.json 配置说明</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#lane-evaluation-property">1. lane_evaluation_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#object-evaluation-property">2. object_evaluation_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#light-evaluation-property">3. light_evaluation_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sign-evaluation-property">4. sign_evaluation_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#freespace-evaluation-property">5. freespace_evaluation_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lane-category-evaluation-property">6. lane_category_evaluation_property</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="roadtest_config.html">roadtest config.json 配置说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdk_config_json.html">sdk_config.json 配置说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="self_calibration_json.html">self_calibration.json 配置说明</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualizer_config.html">visualizer config.json 配置说明</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api.html">A.B</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">adas_pro</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>evaluation config.json 配置说明</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/config_docs/evaluation_config_json.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="evaluation-config-json">
<h1>evaluation config.json 配置说明<a class="headerlink" href="#evaluation-config-json" title="Permalink to this headline">¶</a></h1>
<p>================================</p>
<p>evaluation目前尚未与<a class="reference internal" href="calibration_json.html"><span class="doc">calibration.json</span></a>和<a class="reference internal" href="sdk_config_json.html"><span class="doc">sdk_config.json</span></a>实现统一，因此配置文件包括<code class="docutils literal notranslate"><span class="pre">config_fpga.json</span></code>和<code class="docutils literal notranslate"><span class="pre">config_x86.json</span></code>，二者的区别在于模型配置，具体可以参考<a class="reference internal" href="sdk_config_json.html"><span class="doc">sdk_config.json</span></a>，以下不再说明</p>
<p>evaluation的配置文件为evaluation提供模型评测相关的badcase筛选配置和产品指标配置</p>
<ul class="simple">
<li><p><a class="reference external" href="#lane-evaluation-property">1. lane_evaluation_property</a></p></li>
<li><p><a class="reference external" href="#object-evaluation-property">2. object_evaluation_property</a></p></li>
<li><p><a class="reference external" href="#light-evaluation-property">3. light_evaluation_property</a></p></li>
<li><p><a class="reference external" href="#sign-evaluation-property">4. sign_evaluation_property</a></p></li>
<li><p><a class="reference external" href="#freespace-evaluation-property">5. freespace_evaluation_property</a></p></li>
<li><p><a class="reference external" href="#lane-category-evaluation-property">6. lane_category_evaluation_property</a></p></li>
</ul>
<hr class="docutils" />
<div class="section" id="lane-evaluation-property">
<h2>1. lane_evaluation_property<a class="headerlink" href="#lane-evaluation-property" title="Permalink to this headline">¶</a></h2>
<p>车道线评测配置</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>key word</th>
<th>expression</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>is_enabled</td>
<td>开关项，是否开启车道线evaluation</td>
<td>true/是，false/否</td>
</tr>
<tr>
<td>detector_property</td>
<td>detector 配置</td>
<td></td>
</tr>
<tr>
<td>product_evaluate_property</td>
<td>产品指标评测</td>
<td>null</td>
</tr>
<tr>
<td>model_path</td>
<td>模型路径</td>
<td>null</td>
</tr>
<tr>
<td>bad_case_iou_threshold</td>
<td>badcase筛选阈值</td>
<td>float，取值范围[0.0, 1.0]</td>
</tr>
<tr>
<td>test_dataset_info</td>
<td>用于evaluation的评测集配置</td>
<td>null</td>
</tr>
</tbody>
</table><p><strong>product_evaluate_property 说明</strong></p>
<ul class="simple">
<li><p>is_enabled：开关项，是否启用产品指标evaluation，true/是，false/否， <strong>产品指标评测和模型评测在1次运行中只能开启一个，如果开启了产品指标评测，则默认关闭模型评测</strong></p></li>
<li><p>top_images_num_list：array[int]，从评测集中筛选出基于产品指标的得分最高的x张图片作为产品指标的验证集</p></li>
<li><p>is_save_result：开关项，是否保存detection result图片，true/是，false/否</p></li>
<li><p>is_generate_dataset_json：开关项，是否生成基于top_images_num_list中指定大小的json数据集，true/是，false/否， <strong>生成的json数据集可直接替换test_dataset_info中的数据集进行评测</strong></p></li>
<li><p>save_dir：detection result图片保存目录路径</p></li>
</ul>
<p><strong>test_dataset_info 说明</strong></p>
<ul class="simple">
<li><p>saved_path：detection result的保存路径，若不为空，则会将每张图片的detection result保存到指定目录下， <strong>若为空，则默认关闭</strong></p></li>
<li><p>bad_case_saved_path：筛选出的badcase的保存路径，若不为空，则将badcase图片保存到该路径的目录下， <strong>若为空，则默认关闭</strong></p></li>
<li><p>dataset_root_path：若 <em>dataset_json_path</em> 指定的json文件中的数据路径为相对路径，则该项应该设为相对路径的根目录路径，否则设为空</p></li>
<li><p>dataset_json_path：json评测集文件路径</p></li>
</ul>
</div>
<div class="section" id="object-evaluation-property">
<h2>2. object_evaluation_property<a class="headerlink" href="#object-evaluation-property" title="Permalink to this headline">¶</a></h2>
<p>目标检测评测配置，重复配置请参考<a class="reference external" href="#evaluation-lane">lane_evaluation_property</a></p>
<table border="1" class="docutils">
<thead>
<tr>
<th>key word</th>
<th>expression</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>draw_score</td>
<td>bbox的绘制阈值</td>
<td>float，取值范围[0.0, 1.0]</td>
</tr>
<tr>
<td>min_overlap</td>
<td>最小overlap，用于判断bbox是否相对与gt为TP或者FP</td>
<td>float，取值范围[0.0, 1.0]</td>
</tr>
<tr>
<td>min_score</td>
<td>最小score，大于该值的bbox才认为是有效的bbox</td>
<td>float，取值范围[0.0, 1.0]</td>
</tr>
<tr>
<td>max_box_num</td>
<td>最大bbox数量阈值，大于该值的gt直接丢弃</td>
<td>int</td>
</tr>
<tr>
<td>min_height_pedestrian</td>
<td>若检测的bbox类别为行人，那么bbox的height若小于该值，标明目标距离太远，不应作为产品的评测gt</td>
<td>int</td>
</tr>
<tr>
<td>min_width_pedestrian</td>
<td>若检测的bbox类别为行人，那么bbox的width若小于该值，标明目标距离太远，不应作为产品的评测gt</td>
<td>int</td>
</tr>
<tr>
<td>min_height_vehicle</td>
<td>若检测的bbox类别为机动车，那么bbox的height若小于该值，标明目标距离太远，不应作为产品的评测gt</td>
<td>int</td>
</tr>
<tr>
<td>min_width_vehicle</td>
<td>若检测的bbox类别为机动车，那么bbox的width若小于该值，标明目标距离太远，不应作为产品的评测gt</td>
<td>int</td>
</tr>
<tr>
<td>min_height_cyclist</td>
<td>若检测的bbox类别为非机动车，那么bbox的height若小于该值，标明目标距离太远，不应作为产品的评测gt</td>
<td>int</td>
</tr>
<tr>
<td>min_width_cyclist</td>
<td>若检测的bbox类别为非机动车，那么bbox的width若小于该值，标明目标距离太远，不应作为产品的评测gt</td>
<td>int</td>
</tr>
</tbody>
</table></div>
<div class="section" id="light-evaluation-property">
<h2>3. light_evaluation_property<a class="headerlink" href="#light-evaluation-property" title="Permalink to this headline">¶</a></h2>
<p>目标检测交通信号灯评测配置，请参考<a class="reference external" href="#object-evaluation-property">object_evaluation_property</a></p>
</div>
<div class="section" id="sign-evaluation-property">
<h2>4. sign_evaluation_property<a class="headerlink" href="#sign-evaluation-property" title="Permalink to this headline">¶</a></h2>
<p>目标检测交通标识评测配置，请参考<a class="reference external" href="#object-evaluation-property">object_evaluation_property</a></p>
</div>
<div class="section" id="freespace-evaluation-property">
<h2>5. freespace_evaluation_property<a class="headerlink" href="#freespace-evaluation-property" title="Permalink to this headline">¶</a></h2>
<p>freespace 评测配置，请参考<a class="reference external" href="#lane-evaluation-property">lane_evaluation_property</a></p>
</div>
<div class="section" id="lane-category-evaluation-property">
<h2>6. lane_category_evaluation_property<a class="headerlink" href="#lane-category-evaluation-property" title="Permalink to this headline">¶</a></h2>
<p>车道线分类评测配置，请参考<a class="reference external" href="#lane-evaluation-property">lane_evaluation_property</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="roadtest_config.html" class="btn btn-neutral float-right" title="roadtest config.json 配置说明" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="config_yml.html" class="btn btn-neutral float-left" title="config.yml 配置说明" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, adas group

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>